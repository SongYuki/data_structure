# chapter 2 线性表

标签（空格分隔）： ds

---
***A.线性存储的单链表***
线性表里首先是单链表，这里从单链表最简单的顺序存储结构（本质就是可变数组存储）开始

单链表强调元素在逻辑上紧密相邻，所以首先想到用数组存储。但是普通数组有着无法克服的容量限制，在不知道输入有多少的情况下，很难确定出一个合适的容量。

一个比较好的解决方案是使用**动态数组**。首先用**malloc**申请一块拥有指定初始容量的内存，这块内存用作存储单链表元素，当录入内容不断增加，以至于超出了初始容量时，就用**calloc**扩展内存容量，这样既不浪费内存，又可以让单链表容量随输入的增加而自适应大小。

涉及到了**结构体**，**动态数组**，**结构指针**甚至还有**函数变量**（函数做参数，本质是函数指针）。

例子：求并查集A=A∪B

1.找到A的链表尾部
2.开始遍历B，判断B的每个元素是否在A中存在
3.如果B中元素不在A中，则将其插入到A中，并继续向前泰索，直至遍历完B中全部元素

PS：多函数协作的思想，把不同功能的函数分开写，把不同职责的文件分开写，有利于程序的可读性和健壮性。

***B.链式存储的单链表***
链式存储的单链表，删除与插入更方便，不用来回移动大量元素。与此对应的是存取指定位置元素时将变得费劲，因为顺序存储结构中，通过数组下标就可以获取第i个元素。但是在链式存储中，必须由头指针或尾指针开始遍历整个链表直至寻找到需要的元素。在元素的查找效率方面，此两种存储结构无明显差异。

链表由一个个小的结点组成，每个结点都包含一个数据域和指针域，指针域指向的是紧邻的下一个结点，最后一个结点指针通常为NULL。如果将最后一个结点的指针指向开头，那么这个链表就成了循环单链表。

有头结点的单链表，有头结点意味着头结点指针指向的结点数据域为空，头结点的存在仅仅是作为标记单链表的开始，有头结点的单链表在操作时更加方便，不用专门为头结点的增删情况写额外代码。

单链表链式存储也用到了动态分配内存。值得注意的是，由于头结点的指针本身就是个结构指针，所以在初始化，创建，销毁等需要改变头结点指针的地方，注意函数形参为**二级指针**，即**指向头指针的指针**。

**当该使用二级指针的地方使用了一级指针时，结果就是明明函数内分配了所需内存，但是外面却访问不到，也可能明明函数内销毁掉的内存，外面还可以访问到。这样不仅会引起内存访问差错，甚至会引起程序崩溃**

归并单链表时会涉及到插入操作，在顺序存储的单链表里，插入一个元素意味着要将插入点之后的元素整体后移。但是在链式存储的单链表里，只需改变插入点附近的指针即可，节省了大量时间。

***C.静态链表***
静态链表用数组存放数据，存取方式模拟了系统的**malloc分配**和**free回收**机制

静态链表是特殊的顺序表，它从数组（一块连续的内存）中孕育，但行为却类似于单链表，它反映出了链式单链表在系统中实现的本质。静态链表依靠自身的一个游标来实现单链表中结构指针的作用，所以，在存取元素时，一方面要考虑静态链表内部的游标变动，另一方面也要考虑整个空间中剩余内存的游标变化，因为整个内存块也是通过游标来链接的。

例子：求（A-B）∪（B-A）
先建立包含集合A中元素的静态链表，然后遍历集合B，若B中元素不在A中，将其加入静态链表，否则，将其从静态链表中删掉，注意头，尾指针的修改。


***D.双循环链表***
双循环链表就是**头尾相连，并且每一个结点都可以指向它的前驱和后继**的链表。

双循环链表解决了单链表无法回溯的问题，即在双循环链表中，从任一结点出发都可以顺序或者逆序遍历完整个链表。双循环链表的操作中，插入和删除较为重要，要注意改变各指针指向时的次序。另外要特别留意头，尾结点指针的改变。

例子：一元多项式的运算

一元多项式的运算本质是对扩展的线性表进行插入和删除操作。

***Exercise***
1.描述以下三个概念
a.**首元结点**:指链表中存储线性表中第一个数据元素a1的结点。
b.**头结点**:是为了操作方便，在链表的首元结点之前附设的一个结点，该结点的数据域中不存储线性表的数据元素，其作用是为了对链表进行操作时，可以对空表，非空表的情况一级对首元结点进行统一处理。
c.**头指针**:指向链表中第一个结点（头结点/首元结点）的指针。若链表中附设头结点，则不管线性表是否为空表，头指针均不为空，否则表示空表的链表的头指针为空。

2.a.在顺序表中插入或删除一个元素，需要平均移动**表中一半**元素，具体移动的元素个数与**该元素的位置**有关

b.顺序表中逻辑上相邻的元素的物理位置**必定**相邻，单链表中逻辑上相邻的元素在物理位置**不一定**相邻。

c.在单链表中，除了首元结点外，任一结点的存储位置由**其直接前驱结点的链域的值**指示。

d.在单链表中设置头结点的作用是**插入和删除首元素时不必进行特殊处理**。

3.在不需要频繁在存储的元素间进行插入和删除操作时，用顺序表比链表好。








